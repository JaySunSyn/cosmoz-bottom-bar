<link rel="import" href="cosmoz-bottom-bar.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../cosmoz-viewinfo/cosmoz-viewinfo.html">

<!--
`cosmoz-bottom-bar-view` contains a content section and a bottom bar with actions.

__Important:__ The `cosmoz-bottom-bar-view` will not display if its parent does not have a height.

-->

<dom-module id="cosmoz-bottom-bar-view">
	<style type="text/css">

		:host {
			display: block;
			position: relative;
			overflow: hidden;
		}

		#scroller {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;

			-webkit-overflow-scrolling: touch;

			overflow-x: hidden;
			overflow-y: auto;
		}

		#scrollerArea {
			display: block;
			height: 100%;
			position: relative;
		}


	</style>
	<template>
		<div id="scroller" style$="{{ _getPadding(viewInfo.desktop)}}">
			<content id="scrollerContent" select=".cosmoz-bottom-bar-scroll"></content>
		</div>
		<cosmoz-bottom-bar id="bar" fixed$="{{ viewInfo.desktop }}" scroller="{{ scroller }}" scroller-overflow="{{ overflowing }}">
			<content></content>
		</cosmoz-bottom-bar>
	</template>
	<script type="text/javascript">
/*global Polymer, Cosmoz*/

"use strict";

Polymer({

	is: 'cosmoz-bottom-bar-view',

	behaviors: [
		Cosmoz.ViewInfoBehavior
	],

	properties: {

		overflowing: {
			type: Boolean,
			value: false,
			reflectToAttribute: true
		},

		scroller: {
			type: Object
		}
	},

	attached: function () {
		this.scroller = this.$.scroller;
	},

	_getPadding: function (desktop) {
		// if (desktop) {
		// 	return;
		// }
		return 'padding-bottom: ' + this.$.bar.barHeight + 'px';
	}
});

	</script>
</dom-module>